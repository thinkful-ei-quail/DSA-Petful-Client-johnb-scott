{"version":3,"sources":["images/pets.jpg","config.js","Components/People/People.js","Components/Pets/Pets.js","Components/EnterQueue/EnterQueue.js","Components/AdoptButtons/AdoptButtons.js","Components/Confirmation/Confirmation.js","Pages/MainPage.js","Pages/LandingPage.js","root/Root.js","index.js"],"names":["module","exports","People","displayPeople","people","props","length","className","htmlPeople","map","person","i","key","this","React","Component","Pets","displayNextDog","dog","pets","petHtml","displayNextCat","cat","pet","name","age","gender","breed","src","imageURL","alt","description","story","EnterQueue","onSubmit","e","handleSubmit","htmlFor","type","id","onChange","handleChange","target","AdoptButtons","onClick","adoptCat","adoptDog","adoptBoth","Confirmation","petType","handleClose","MainPage","state","adopted","handleNameChange","setState","value","handleNameSubmit","preventDefault","fetch","config","method","headers","body","JSON","stringify","then","res","json","resJson","window","localStorage","setItem","console","log","getItem","componentDidMount","getPeople","getPets","dequeuePeople","randomUsers","setInterval","randomPet","Math","floor","random","slice","resJSON","closeConfirmation","dequeueAnimal","plural","dequeuePerson","LandingPage","to","Root","exact","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5b89bd16.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pets.0cc38f33.jpg\";","export default {\n  API_ENDPOINT: 'https://powerful-bastion-07742.herokuapp.com',\n}","import React from 'react';\n\n\nexport default class People extends React.Component {\n  displayPeople = () => {\n    const {people} = this.props\n    if (people && people.length > 0) {\n      return <ul className=\"people-list\">{this.htmlPeople(people)}</ul>\n    }\n    return 'Nobody in queue'\n  }\n  htmlPeople = (people) => {\n    return people.map((person, i) => {\n      return <li key={i} className=\"people-list-item\">{person}</li>\n    });\n  }\n  render() {\n    return (\n      <div className=\"People\">\n        {this.displayPeople()}\n      </div>\n    );\n  }\n}","import React from 'react';\n\n\nexport default class Pets extends React.Component {\n  \n  displayNextDog = () => {\n    const {dog} = this.props.pets;\n    if (dog) {\n      return this.petHtml(dog);\n    }\n    return 'No Dog Available';\n  }\n  displayNextCat = () => {\n    const {cat} = this.props.pets;\n    if (cat) {\n      return this.petHtml(cat);\n    }\n    return 'No Cat Available'\n  }\n  petHtml = (pet) => {\n    return <div className='pet-container'>\n      <h3>{pet.name}</h3>\n      <p>Age: {pet.age}</p>\n      <p>Gender: {pet.gender}</p>\n      <p>Breed: {pet.breed}</p>\n      <img src={pet.imageURL} alt={pet.description} />\n      <p>Description: {pet.description}</p>\n      <p>Why they are here: {pet.story}</p>\n    </div>\n  }\n  render() {\n    return (\n      <div className=\"Pets\">\n        {this.displayNextDog()}\n        {this.displayNextCat()}\n      </div>\n    )\n  }\n}","import React from 'react'\n\nexport default class EnterQueue extends React.Component {\n\n  render() {\n    return (\n      <form onSubmit={(e) => this.props.handleSubmit(e)}>\n        <label htmlFor='name'>Enter your name</label>\n        <input type='text' id='name' onChange={(e) => this.props.handleChange(e.target)} />\n        <button type='submit'>Submit</button>\n      </form>\n    )\n  }\n}","import React from 'react';\n\nexport default class AdoptButtons extends React.Component {\n  render() {\n    return (\n      <div className=\"Adopt-Buttons\">\n        <button className=\"adopt-cat\" onClick={this.props.adoptCat}>Adopt Cat</button>\n        <button className=\"adopt-dog\" onClick={this.props.adoptDog}>Adopt Dog</button>\n        <button className=\"adopt-both\" onClick={this.props.adoptBoth}>Adopt Both!</button>\n      </div>\n    )\n  }\n}","import React from 'react'\n\nexport default class Confirmation extends React.Component {\n  render() {\n    const {petType, handleClose} = this.props\n    return (\n      <div className='confirmation_box'>\n        <h3>Congrats!</h3>\n        <p>Enjoy the company of your new {petType}!</p>\n        <button onClick={() => handleClose(petType)}>Close</button>\n      </div>\n    )\n  }\n}","import React from 'react';\nimport config from '../config'\nimport People from '../Components/People/People';\nimport Pets from '../Components/Pets/Pets';\nimport EnterQueue from '../Components/EnterQueue/EnterQueue'\nimport AdoptButtons from '../Components/AdoptButtons/AdoptButtons';\nimport Confirmation from '../Components/Confirmation/Confirmation';\n\nexport default class MainPage extends React.Component {\n  state = {\n    pets: {},\n    people: [],\n    name: '',\n    adopted: ''\n  }\n\n  handleNameChange = (e) => {\n    this.setState({\n      name: e.value\n    })\n  }\n\n  handleNameSubmit = (e) => {\n    e.preventDefault()\n    fetch(`${config.API_ENDPOINT}/people`, {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify({ name: this.state.name })\n    })\n      .then(res => res.json())\n      .then(resJson => {\n        window.localStorage.setItem('petful_username', resJson)\n        console.log(window.localStorage.getItem('petful_username'));\n        this.setState({\n          people: [...this.state.people, resJson],\n        })\n      })\n  }\n\n  componentDidMount = () => {\n    this.getPeople();\n    this.getPets();\n    this.dequeuePeople();\n  }\n\n  getPeople = () => {\n    fetch(`${config.API_ENDPOINT}/people`)\n      .then(res => {\n        return res.json();\n      })\n      .then(resJson => {\n        this.setState({\n          people: resJson\n        })\n      })\n  }\n\n  getPets = () => {\n    fetch(`${config.API_ENDPOINT}/pets`)\n      .then(res => {\n        return res.json();\n      })\n      .then(resJson => {\n        this.setState({\n          pets: resJson\n        });\n      })\n  }\n\n  dequeuePeople = () => {\n    const randomUsers = [\n      'Billy Bob',\n      'Han Solo',\n      'Gandalf',\n      'Kratos'\n    ]\n    setInterval(() => {\n      //If current user is in front or there are no more in queue\n      if ((window.localStorage.getItem('petful_username') !== this.state.people[0]) &&\n        this.state.people.length > 0) {\n        let randomPet = ['cats', 'dogs'][Math.floor(Math.random() * 2)]\n\n        fetch(`${config.API_ENDPOINT}/pets`,\n          {\n            method: 'DELETE',\n            headers: {\n              'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n              pet: randomPet\n            })\n          })\n\n\n        fetch(`${config.API_ENDPOINT}/people`,\n          {\n            method: 'DELETE',\n            headers: {\n              'content-type': 'application/json'\n            }\n          })\n          .then(res => {\n            this.setState({\n              people: this.state.people.slice(1, this.state.people.length)\n            })\n          })\n          .then(() => {\n            this.getPets();\n          })\n      }\n      else if (this.state.people.length < 5) {\n        fetch(`${config.API_ENDPOINT}/people`, {\n          method: 'POST',\n          headers: {\n            'content-type': 'application/json'\n          },\n          body: JSON.stringify(\n            {\n              name: randomUsers[Math.floor((Math.random() * 4))]\n            }\n          )\n        })\n          .then(res => res.json())\n          .then(resJSON => {\n            this.setState({\n              people: [...this.state.people, resJSON]\n            })\n          });\n      }\n    }, 5000)\n  }\n\n  closeConfirmation = (pet) => {\n    if(pet === 'cat and dog') {\n      this.dequeueAnimal('dogs')\n      this.dequeueAnimal('cats')\n    } else {\n      let plural = pet + 's'\n      this.dequeueAnimal(plural)\n    }\n    this.dequeuePerson()\n    this.setState({\n      adopted: ''\n    })\n\n  }\n\n  adoptCat = () => {\n    this.setState({\n      adopted: 'cat'\n    })\n  }\n\n  adoptDog = () => {\n    this.setState({\n      adopted: 'dog'\n    })\n  }\n\n  adoptBoth = () => {\n    this.setState({\n      adopted: 'cat and dog'\n    })\n  }\n\n  dequeuePerson = () => {\n    fetch(`${config.API_ENDPOINT}/people`,\n      {\n        method: 'DELETE',\n        headers: {\n          'content-type': 'application/json'\n        }\n      })\n      .then(res => {\n        this.setState({\n          people: this.state.people.slice(1, this.state.people.length)\n        })\n      })\n      .then(() => {\n        this.getPets();\n      })\n  }\n\n  dequeueAnimal = (pet) => {\n    console.log(pet)\n    fetch(`${config.API_ENDPOINT}/pets`,\n          {\n            method: 'DELETE',\n            headers: {\n              'content-type': 'application/json'\n            },\n            body: JSON.stringify({\n              pet\n            })\n          })\n  }\n\n  render() {\n    const { people, pets, adopted } = this.state;\n    return (\n      <div className='Main-Page'>\n\n        <Pets pets={pets} />\n        {window.localStorage.getItem('petful_username') === this.state.people[0]\n          && <AdoptButtons\n            adoptCat={this.adoptCat}\n            adoptDog={this.adoptDog}\n            adoptBoth={this.adoptBoth}\n          />}\n        <EnterQueue handleSubmit={this.handleNameSubmit} handleChange={this.handleNameChange} />\n        {adopted \n          && <Confirmation \n            petType={adopted} \n            handleClose={this.closeConfirmation}\n            dequeuePerson={this.dequeuePerson}\n            dequeueAnimal={this.dequeueAnimal}\n             />}\n        <People people={people} />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport pets from '../images/pets.jpg'\n\nexport default class LandingPage extends React.Component {\n  render() {\n    return (\n      <div className='LandingPage'>\n        <h2>Find the perfect pet for you!</h2>\n        <img src={pets} alt='Cat and dog sitting together'/>\n        <p>Petful is a pet adoption website that ensures pets don't wait too long to get adopted</p>\n        <p>Pets that arrive here are placed in a queue and are adopted on a first in first out basis.</p>\n        <p>If you would like to adopt a pet you will be placed in line, once it is your turn you will have the option to adopt the currently available dog, cat, or both.</p>\n        <Link className='btn' to='/main'>Get Started</Link>\n      </div>\n    )\n  }\n\n}\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport MainPage from '../Pages/MainPage';\nimport LandingPage from '../Pages/LandingPage';\n\nfunction Root() {\n  return <div>\n    <h1>Petful</h1>\n    <Switch>\n      <Route \n        exact path=\"/\"\n        component={LandingPage}\n      />\n      <Route\n        path={\"/main\"}\n        component={MainPage}\n        />\n    </Switch>\n  </div>\n}\n\nexport default Root\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom';\nimport Root from './root/Root'\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <Root />\n  </BrowserRouter>,\n  document.getElementById('root'))\n"],"sourceRoot":""}