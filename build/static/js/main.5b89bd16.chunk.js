(this["webpackJsonppetful-client"]=this["webpackJsonppetful-client"]||[]).push([[0],{20:function(e,t,n){e.exports=n.p+"static/media/pets.0cc38f33.jpg"},22:function(e,t,n){e.exports=n(33)},23:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);n(23);var a=n(0),o=n.n(a),l=n(19),r=n.n(l),c=n(11),p=n(1),i=n(16),s=n(3),u=n(4),d=n(6),m=n(5),h="https://powerful-bastion-07742.herokuapp.com",f=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).displayPeople=function(){var t=e.props.people;return t&&t.length>0?o.a.createElement("ul",{className:"people-list"},e.htmlPeople(t)):"Nobody in queue"},e.htmlPeople=function(e){return e.map((function(e,t){return o.a.createElement("li",{key:t,className:"people-list-item"},e)}))},e}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"People"},this.displayPeople())}}]),n}(o.a.Component),g=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).displayNextDog=function(){var t=e.props.pets.dog;return t?e.petHtml(t):"No Dog Available"},e.displayNextCat=function(){var t=e.props.pets.cat;return t?e.petHtml(t):"No Cat Available"},e.petHtml=function(e){return o.a.createElement("div",{className:"pet-container"},o.a.createElement("h3",null,e.name),o.a.createElement("p",null,"Age: ",e.age),o.a.createElement("p",null,"Gender: ",e.gender),o.a.createElement("p",null,"Breed: ",e.breed),o.a.createElement("img",{src:e.imageURL,alt:e.description}),o.a.createElement("p",null,"Description: ",e.description),o.a.createElement("p",null,"Why they are here: ",e.story))},e}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Pets"},this.displayNextDog(),this.displayNextCat())}}]),n}(o.a.Component),b=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("form",{onSubmit:function(t){return e.props.handleSubmit(t)}},o.a.createElement("label",{htmlFor:"name"},"Enter your name"),o.a.createElement("input",{type:"text",id:"name",onChange:function(t){return e.props.handleChange(t.target)}}),o.a.createElement("button",{type:"submit"},"Submit"))}}]),n}(o.a.Component),E=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"Adopt-Buttons"},o.a.createElement("button",{className:"adopt-cat",onClick:this.props.adoptCat},"Adopt Cat"),o.a.createElement("button",{className:"adopt-dog",onClick:this.props.adoptDog},"Adopt Dog"),o.a.createElement("button",{className:"adopt-both",onClick:this.props.adoptBoth},"Adopt Both!"))}}]),n}(o.a.Component),y=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.petType,n=e.handleClose;return o.a.createElement("div",{className:"confirmation_box"},o.a.createElement("h3",null,"Congrats!"),o.a.createElement("p",null,"Enjoy the company of your new ",t,"!"),o.a.createElement("button",{onClick:function(){return n(t)}},"Close"))}}]),n}(o.a.Component),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={pets:{},people:[],name:"",adopted:""},e.handleNameChange=function(t){e.setState({name:t.value})},e.handleNameSubmit=function(t){t.preventDefault(),fetch("".concat(h,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:e.state.name})}).then((function(e){return e.json()})).then((function(t){window.localStorage.setItem("petful_username",t),console.log(window.localStorage.getItem("petful_username")),e.setState({people:[].concat(Object(i.a)(e.state.people),[t])})}))},e.componentDidMount=function(){e.getPeople(),e.getPets(),e.dequeuePeople()},e.getPeople=function(){fetch("".concat(h,"/people")).then((function(e){return e.json()})).then((function(t){e.setState({people:t})}))},e.getPets=function(){fetch("".concat(h,"/pets")).then((function(e){return e.json()})).then((function(t){e.setState({pets:t})}))},e.dequeuePeople=function(){var t=["Billy Bob","Han Solo","Gandalf","Kratos"];setInterval((function(){if(window.localStorage.getItem("petful_username")!==e.state.people[0]&&e.state.people.length>0){var n=["cats","dogs"][Math.floor(2*Math.random())];fetch("".concat(h,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({pet:n})}),fetch("".concat(h,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){e.setState({people:e.state.people.slice(1,e.state.people.length)})})).then((function(){e.getPets()}))}else e.state.people.length<5&&fetch("".concat(h,"/people"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({name:t[Math.floor(4*Math.random())]})}).then((function(e){return e.json()})).then((function(t){e.setState({people:[].concat(Object(i.a)(e.state.people),[t])})}))}),5e3)},e.closeConfirmation=function(t){if("cat and dog"===t)e.dequeueAnimal("dogs"),e.dequeueAnimal("cats");else{var n=t+"s";e.dequeueAnimal(n)}e.dequeuePerson(),e.setState({adopted:""})},e.adoptCat=function(){e.setState({adopted:"cat"})},e.adoptDog=function(){e.setState({adopted:"dog"})},e.adoptBoth=function(){e.setState({adopted:"cat and dog"})},e.dequeuePerson=function(){fetch("".concat(h,"/people"),{method:"DELETE",headers:{"content-type":"application/json"}}).then((function(t){e.setState({people:e.state.people.slice(1,e.state.people.length)})})).then((function(){e.getPets()}))},e.dequeueAnimal=function(e){console.log(e),fetch("".concat(h,"/pets"),{method:"DELETE",headers:{"content-type":"application/json"},body:JSON.stringify({pet:e})})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.people,n=e.pets,a=e.adopted;return o.a.createElement("div",{className:"Main-Page"},o.a.createElement(g,{pets:n}),window.localStorage.getItem("petful_username")===this.state.people[0]&&o.a.createElement(E,{adoptCat:this.adoptCat,adoptDog:this.adoptDog,adoptBoth:this.adoptBoth}),o.a.createElement(b,{handleSubmit:this.handleNameSubmit,handleChange:this.handleNameChange}),a&&o.a.createElement(y,{petType:a,handleClose:this.closeConfirmation,dequeuePerson:this.dequeuePerson,dequeueAnimal:this.dequeueAnimal}),o.a.createElement(f,{people:t}))}}]),n}(o.a.Component),j=n(20),O=n.n(j),C=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"LandingPage"},o.a.createElement("h2",null,"Find the perfect pet for you!"),o.a.createElement("img",{src:O.a,alt:"Cat and dog sitting together"}),o.a.createElement("p",null,"Petful is a pet adoption website that ensures pets don't wait too long to get adopted"),o.a.createElement("p",null,"Pets that arrive here are placed in a queue and are adopted on a first in first out basis."),o.a.createElement("p",null,"If you would like to adopt a pet you will be placed in line, once it is your turn you will have the option to adopt the currently available dog, cat, or both."),o.a.createElement(c.b,{className:"btn",to:"/main"},"Get Started"))}}]),n}(o.a.Component);var S=function(){return o.a.createElement("div",null,o.a.createElement("h1",null,"Petful"),o.a.createElement(p.c,null,o.a.createElement(p.a,{exact:!0,path:"/",component:C}),o.a.createElement(p.a,{path:"/main",component:v})))};r.a.render(o.a.createElement(c.a,null,o.a.createElement(S,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.5b89bd16.chunk.js.map